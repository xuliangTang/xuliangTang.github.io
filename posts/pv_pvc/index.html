<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>PV å’Œ PVC - Lain Blog</title><meta name=Description content="This is my cool site"><meta property="og:title" content="PV å’Œ PVC"><meta property="og:description" content="ä¸ºäº†èƒ½å¤Ÿå±è”½åº•å±‚å­˜å‚¨å®ç°çš„ç»†èŠ‚ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨ï¼Œk8s å¼•å…¥ PV å’Œ PVC ä¸¤ç§èµ„æºå¯¹è±¡ã€‚Persistent Volume æä¾›å­˜å‚¨èµ„æºï¼ˆå¹¶å®ç°ï¼‰ï¼ŒPersisten"><meta property="og:type" content="article"><meta property="og:url" content="http://xuliangtang.github.io/posts/pv_pvc/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-11T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-14T22:37:46+08:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary"><meta name=twitter:title content="PV å’Œ PVC"><meta name=twitter:description content="ä¸ºäº†èƒ½å¤Ÿå±è”½åº•å±‚å­˜å‚¨å®ç°çš„ç»†èŠ‚ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨ï¼Œk8s å¼•å…¥ PV å’Œ PVC ä¸¤ç§èµ„æºå¯¹è±¡ã€‚Persistent Volume æä¾›å­˜å‚¨èµ„æºï¼ˆå¹¶å®ç°ï¼‰ï¼ŒPersisten"><meta name=application-name content="Lain Blog"><meta name=apple-mobile-web-app-title content="Lain Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicons/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://xuliangtang.github.io/posts/pv_pvc/><link rel=prev href=http://xuliangtang.github.io/posts/service/><link rel=next href=http://xuliangtang.github.io/posts/hpa/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"PV å’Œ PVC","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/xuliangtang.github.io\/posts\/pv_pvc\/"},"genre":"posts","wordcount":2362,"url":"http:\/\/xuliangtang.github.io\/posts\/pv_pvc\/","datePublished":"2022-12-11T00:00:00+00:00","dateModified":"2022-12-14T22:37:46+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"xuliangTang"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Lain Blog">Dev Lain</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/categories/>åˆ†ç±» </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Lain Blog">Dev Lain</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>æ–‡ç« </a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/categories/ title>åˆ†ç±»</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class="toc-content always-active" id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">PV å’Œ PVC</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>xuliangTang</a></span>&nbsp;<span class=post-category>included in <a href=/categories/kubernetes/><i class="far fa-folder fa-fw" aria-hidden=true></i>kubernetes</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-12-11>2022-12-11</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2362 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#æŒä¹…å·persistent-volume>æŒä¹…å·ï¼ˆPersistent Volumeï¼‰</a><ul><li><a href=#æŒä¹…å·çš„ç±»å‹>æŒä¹…å·çš„ç±»å‹</a></li><li><a href=#åˆ›å»º>åˆ›å»º</a></li><li><a href=#å…³é”®é…ç½®å‚æ•°>å…³é”®é…ç½®å‚æ•°</a></li><li><a href=#æ ‡ç­¾>æ ‡ç­¾</a></li></ul></li><li><a href=#æŒä¹…å·å£°æ˜persistentvolumeclaim>æŒä¹…å·å£°æ˜ï¼ˆPersistentVolumeClaimï¼‰</a><ul><li><a href=#åˆ›å»º-1>åˆ›å»º</a></li></ul></li><li><a href=#å­˜å‚¨ç±»storageclass>å­˜å‚¨ç±»ï¼ˆStorageClassï¼‰</a><ul><li><a href=#ä¸ºä»€ä¹ˆéœ€è¦-storageclass>ä¸ºä»€ä¹ˆéœ€è¦ StorageClass</a></li><li><a href=#åˆ›å»º-2>åˆ›å»º</a></li><li><a href=#å…³é”®é…ç½®å‚æ•°-1>å…³é”®é…ç½®å‚æ•°</a></li></ul></li><li><a href=#æŒ‚è½½åˆ°-pod>æŒ‚è½½åˆ° Pod</a></li></ul></nav></div></div><div class=content id=content><p>ä¸ºäº†èƒ½å¤Ÿå±è”½åº•å±‚å­˜å‚¨å®ç°çš„ç»†èŠ‚ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨ï¼Œk8s å¼•å…¥ PV å’Œ PVC ä¸¤ç§èµ„æºå¯¹è±¡ã€‚Persistent Volume æä¾›å­˜å‚¨èµ„æºï¼ˆå¹¶å®ç°ï¼‰ï¼ŒPersistent Volume Claim æè¿°éœ€è¦çš„å­˜å‚¨æ ‡å‡†ï¼Œç„¶åä»ç°æœ‰ PV ä¸­åŒ¹é…æˆ–è€…åŠ¨æ€å»ºç«‹æ–°çš„èµ„æºï¼Œæœ€åå°†ä¸¤è€…è¿›è¡Œç»‘å®šã€‚</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://raw.githubusercontent.com/xuliangTang/picbeds/main/typora/2164474-20210816114501146-1639684923.png data-srcset="https://raw.githubusercontent.com/xuliangTang/picbeds/main/typora/2164474-20210816114501146-1639684923.png, https://raw.githubusercontent.com/xuliangTang/picbeds/main/typora/2164474-20210816114501146-1639684923.png 1.5x, https://raw.githubusercontent.com/xuliangTang/picbeds/main/typora/2164474-20210816114501146-1639684923.png 2x" data-sizes=auto alt=https://raw.githubusercontent.com/xuliangTang/picbeds/main/typora/2164474-20210816114501146-1639684923.png title=img></p><h2 id=æŒä¹…å·persistent-volume>æŒä¹…å·ï¼ˆPersistent Volumeï¼‰</h2><p>PV æ˜¯æŒä¹…åŒ–å·çš„æ„æ€ï¼Œæ˜¯å¯¹åº•å±‚çš„å…±äº«å­˜å‚¨çš„ä¸€ç§æŠ½è±¡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ PV ç”± k8s ç®¡ç†å‘˜è¿›è¡Œåˆ›å»ºå’Œé…ç½®ï¼Œå®ƒä¸åº•å±‚å…·ä½“çš„å…±äº«å­˜å‚¨æŠ€æœ¯æœ‰å…³ï¼Œå¹¶é€šè¿‡æ’ä»¶ï¼ˆå¦‚ï¼šlocalã€NFSï¼‰ç­‰å…·ä½“çš„åº•å±‚æŠ€æœ¯æ¥å®ç°å®Œæˆä¸å…±äº«å­˜å‚¨çš„å¯¹æ¥ã€‚</p><h3 id=æŒä¹…å·çš„ç±»å‹>æŒä¹…å·çš„ç±»å‹</h3><ul><li>cephfs - CephFS volume</li><li>csi - å®¹å™¨å­˜å‚¨æ¥å£ (CSI)</li><li>fc - Fibre Channel (FC) å­˜å‚¨</li><li>hostPath - HostPath å· ï¼ˆä»…ä¾›å•èŠ‚ç‚¹æµ‹è¯•ä½¿ç”¨ï¼›ä¸é€‚ç”¨äºå¤šèŠ‚ç‚¹é›†ç¾¤ï¼›è¯·å°è¯•ä½¿ç”¨ local å·ä½œä¸ºæ›¿ä»£ï¼‰</li><li>iscsi - iSCSI (SCSI over IP) å­˜å‚¨</li><li>local - èŠ‚ç‚¹ä¸ŠæŒ‚è½½çš„æœ¬åœ°å­˜å‚¨è®¾å¤‡</li><li>nfs - ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ (NFS) å­˜å‚¨</li><li>rbd - Rados å—è®¾å¤‡ (RBD) å·</li></ul><h3 id=åˆ›å»º>åˆ›å»º</h3><p>ä½¿ç”¨ local å·çš„èµ„æºæ¸…å•</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>PersistentVolume</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>local-pv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>capacity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class=l>1Gi</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>volumeMode</span><span class=p>:</span><span class=w> </span><span class=l>Filesystem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=l>ReadWriteOnce</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>		</span><span class=c># å­˜å‚¨ç±»åˆ«</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>persistentVolumeReclaimPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Retain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/home/txl/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>nodeAffinity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>required:				# æŒ‡å®šå¿…é¡»æ»¡è¶³çš„ç¡¬æ€§èŠ‚ç‚¹çº¦æŸ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=l>nodeSelectorTerms:	# èŠ‚ç‚¹é€‰æ‹©å™¨æ¡ä»¶çš„åˆ—è¡¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>matchExpressions:	# åŸºäºèŠ‚ç‚¹æ ‡ç­¾æ‰€è®¾ç½®çš„èŠ‚ç‚¹é€‰æ‹©å™¨è¦æ±‚çš„åˆ—è¡¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>pv			# é€‚ç”¨çš„æ ‡ç­¾ä¸»é”®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>operator</span><span class=p>:</span><span class=w> </span><span class=l>In		# ä»£è¡¨ä¸»é”®ä¸å€¼é›†ä¹‹é—´çš„å…³ç³»</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>values</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>local</span><span class=w>
</span></span></span></code></pre></div><h3 id=å…³é”®é…ç½®å‚æ•°>å…³é”®é…ç½®å‚æ•°</h3><ul><li><p><strong>å‚¨å­˜èƒ½åŠ›</strong> <code>capacity</code>ï¼šç›®å‰åªæ”¯æŒå­˜å‚¨ç©ºé—´çš„è®¾ç½®ï¼ˆstorage=1Giï¼‰</p></li><li><p><strong>å·æ¨¡å¼</strong> <code>volumeMode</code>ï¼šè®¾ç½®ä¸º <code>Filesystem</code> çš„å·ä¼šè¢« Pod æŒ‚è½½ï¼ˆMountï¼‰åˆ°æŸä¸ªç›®å½•ã€‚ å¦‚æœå·çš„å­˜å‚¨æ¥è‡ªæŸå—è®¾å¤‡è€Œè¯¥è®¾å¤‡ç›®å‰ä¸ºç©ºï¼ŒKuberneretes ä¼šåœ¨ç¬¬ä¸€æ¬¡æŒ‚è½½å·ä¹‹å‰åœ¨è®¾å¤‡ä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ</p></li><li><p><strong>è®¿é—®æ¨¡å¼</strong> <code>accessModes</code>ï¼šç”¨äºæè¿°ç”¨æˆ·åº”ç”¨å¯¹å­˜å‚¨èµ„æºçš„è®¿é—®æƒé™ï¼Œè®¿é—®æƒé™åŒ…æ‹¬ä¸‹é¢å‡ ç§æ–¹å¼ï¼š</p><ol><li>ReadWriteOnceï¼ˆRWOï¼‰ï¼šè¯»å†™æƒé™ï¼Œä½†æ˜¯åªèƒ½è¢«å•ä¸ªèŠ‚ç‚¹æŒ‚è½½</li><li>ReadOnlyManyï¼ˆROXï¼‰ï¼šåªè¯»æƒé™ï¼Œå¯ä»¥è¢«å¤šä¸ªèŠ‚ç‚¹æŒ‚è½½</li><li>ReadWriteManyï¼ˆRWXï¼‰ï¼šè¯»å†™æƒé™ï¼Œå¯ä»¥è¢«å¤šä¸ªèŠ‚ç‚¹æŒ‚è½½</li></ol></li><li><p><strong>å­˜å‚¨ç±»åˆ«</strong> <code>storageClassName</code>ï¼šPV å¯ä»¥é€šè¿‡ storageClassName å‚æ•°æŒ‡å®šä¸€ä¸ªå­˜å‚¨ç±»åˆ«ï¼š</p><ul><li>å…·æœ‰ç‰¹å®šç±»åˆ«çš„ PV åªèƒ½ä¸è¯·æ±‚äº†è¯¥ç±»åˆ«çš„ PVC è¿›è¡Œç»‘å®š</li><li>æœªè®¾å®šç±»åˆ«çš„ PV åªèƒ½ä¸ä¸è¯·æ±‚ä»»ä½•ç±»åˆ«çš„ PVC è¿›è¡Œç»‘å®š</li></ul></li><li><p><strong>å›æ”¶ç­–ç•¥</strong> <code>persistentVolumeReclaimPolicy</code>ï¼šå½“ PV ä¸å†è¢«ä½¿ç”¨äº†ä¹‹åï¼Œå¯¹å…¶çš„å¤„ç†æ–¹å¼ã€‚ç›®å‰æ”¯æŒä¸‰ç§ç­–ç•¥ï¼š</p><ol><li>Retainï¼ˆä¿ç•™ï¼‰ï¼šä¿ç•™æ•°æ®ï¼Œéœ€è¦ç®¡ç†å‘˜æ‰‹åŠ¨æ¸…ç†æ•°æ®</li><li>Recycleï¼ˆå›æ”¶ï¼‰ï¼šæ¸…é™¤PVä¸­çš„æ•°æ®ï¼Œæ•ˆæœç›¸å½“äºæ‰§è¡Œ rm -rf /thevolume/*</li><li>Deleteï¼ˆåˆ é™¤ï¼‰ï¼šä¸PVç›¸è¿çš„åç«¯å­˜å‚¨å®Œæˆvolumeçš„åˆ é™¤æ“ä½œï¼Œå½“ç„¶è¿™å¸¸è§äºäº‘æœåŠ¡å•†çš„å­˜å‚¨æœåŠ¡</li></ol></li><li><p><strong>èŠ‚ç‚¹äº²å’Œæ€§</strong> <code>NodeAffinity</code>ï¼šå®šä¹‰ä¸€äº›çº¦æŸï¼Œè¿›è€Œé™åˆ¶ä»å“ªäº›èŠ‚ç‚¹ä¸Šå¯ä»¥è®¿é—®æ­¤å·ã€‚<code>matchExpressions</code> çš„ operatoråŒ…æ‹¬ï¼š</p><ul><li>Inï¼šlabel çš„å€¼åœ¨æŸä¸ªåˆ—è¡¨ä¸­</li><li>NotInï¼šlabel çš„å€¼ä¸åœ¨æŸä¸ªåˆ—è¡¨ä¸­</li><li>Existsï¼šæŸä¸ª label å­˜åœ¨</li><li>DoesNotExistï¼šæŸä¸ª label ä¸å­˜åœ¨</li><li>Gtï¼šlabel çš„å€¼å¤§äºæŸä¸ªå€¼ï¼ˆå­—ç¬¦ä¸²æ¯”è¾ƒï¼‰</li><li>Ltï¼šlabel çš„å€¼å°äºæŸä¸ªå€¼ï¼ˆå­—ç¬¦ä¸²æ¯”è¾ƒï¼‰</li></ul></li><li><p><strong>çŠ¶æ€</strong> <code>status</code>ï¼šä¸€ä¸ª PV çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå¯èƒ½ä¼šå¤„äº4ç§ä¸åŒçš„é˜¶æ®µ</p><ol><li>Availableï¼ˆå¯ç”¨ï¼‰ï¼šè¡¨ç¤ºå¯ç”¨çŠ¶æ€ï¼Œè¿˜æœªè¢«ä»»ä½•PVCç»‘å®š</li><li>Boundï¼ˆå·²ç»‘å®šï¼‰ï¼šè¡¨ç¤ºPVå·²ç»è¢«PVCç»‘å®š</li><li>Releasedï¼ˆå·²é‡Šæ”¾ï¼‰ï¼šè¡¨ç¤ºPVCè¢«åˆ é™¤ï¼Œä½†æ˜¯èµ„æºè¿˜æœªè¢«é›†ç¾¤é‡æ–°å£°æ˜</li><li>Failedï¼ˆå¤±è´¥ï¼‰ï¼šè¡¨ç¤ºè¯¥PVçš„è‡ªåŠ¨å›æ”¶å¤±è´¥</li></ol></li></ul><h3 id=æ ‡ç­¾>æ ‡ç­¾</h3><p>æŸ¥çœ‹æ ‡ç­¾</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get node --show-labels<span class=o>=</span><span class=nb>true</span>
</span></span></code></pre></div><p>ç»™ node lain1 æ‰“ä¸€ä¸ªæ ‡ç­¾ pv=local</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl label nodes lain1 <span class=nv>pv</span><span class=o>=</span><span class=nb>local</span>
</span></span></code></pre></div><p>åˆ é™¤æ ‡ç­¾</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl label nodes lain1 pv-
</span></span></code></pre></div><h2 id=æŒä¹…å·å£°æ˜persistentvolumeclaim>æŒä¹…å·å£°æ˜ï¼ˆPersistentVolumeClaimï¼‰</h2><p>PVC æ˜¯èµ„æºçš„ç”³è¯·ï¼Œç”¨æ¥å£°æ˜å¯¹å­˜å‚¨ç©ºé—´ã€è®¿é—®æ¨¡å¼ã€å­˜å‚¨ç±»åˆ«éœ€æ±‚ä¿¡æ¯</p><h3 id=åˆ›å»º-1>åˆ›å»º</h3><p>ç»‘å®šï¼šspec å…³é”®å­—æ®µè¦åŒ¹é…ï¼ŒstorageClassName å­—æ®µå¿…é¡»ä¸€è‡´</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>PersistentVolumeClaim</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ngx-pvc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>ReadWriteOnce</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>requests</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class=l>1Gi</span><span class=w>
</span></span></span></code></pre></div><h2 id=å­˜å‚¨ç±»storageclass>å­˜å‚¨ç±»ï¼ˆStorageClassï¼‰</h2><p>Kubernetes æä¾›äº†ä¸€å¥—å¯ä»¥è‡ªåŠ¨åˆ›å»º PV çš„æœºåˆ¶ï¼Œå³ï¼šDynamic Provisioningã€‚è€Œè¿™ä¸ªæœºåˆ¶çš„æ ¸å¿ƒåœ¨äºStorageClass è¿™ä¸ª API å¯¹è±¡ã€‚StorageClass å¯¹è±¡ä¼šå®šä¹‰ä¸‹é¢ä¸¤éƒ¨åˆ†å†…å®¹:</p><ol><li>PV çš„å±æ€§ï¼Œå¦‚å­˜å‚¨ç±»å‹ï¼ŒVolume çš„å¤§å°ç­‰ã€‚</li><li>åˆ›å»ºè¿™ç§ PV éœ€è¦ç”¨åˆ°çš„å­˜å‚¨æ’ä»¶ï¼Œå³å­˜å‚¨åˆ¶å¤‡å™¨ã€‚</li></ol><p>æœ‰äº†è¿™ä¸¤ä¸ªä¿¡æ¯ä¹‹åï¼ŒKubernetes å°±èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·æäº¤çš„ PVCï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯¹åº”çš„ StorageClassï¼Œä¹‹åKubernetes å°±ä¼šè°ƒç”¨è¯¥ StorageClass å£°æ˜çš„å­˜å‚¨æ’ä»¶ï¼Œè¿›è€Œåˆ›å»ºå‡ºéœ€è¦çš„ PVã€‚</p><h3 id=ä¸ºä»€ä¹ˆéœ€è¦-storageclass>ä¸ºä»€ä¹ˆéœ€è¦ StorageClass</h3><p>åœ¨ä¸€ä¸ªå¤§è§„æ¨¡çš„ Kubernetes é›†ç¾¤é‡Œï¼Œå¯èƒ½æœ‰æˆåƒä¸Šä¸‡ä¸ª PVCï¼Œè¿™å°±æ„å‘³ç€è¿ç»´äººå‘˜å¿…é¡»å®ç°åˆ›å»ºå‡ºè¿™ä¸ªå¤šä¸ª PVï¼Œæ­¤å¤–ï¼Œéšç€é¡¹ç›®çš„éœ€è¦ï¼Œä¼šæœ‰æ–°çš„ PVC ä¸æ–­è¢«æäº¤ï¼Œé‚£ä¹ˆè¿ç»´äººå‘˜å°±éœ€è¦ä¸æ–­çš„æ·»åŠ æ–°çš„ï¼Œæ»¡è¶³è¦æ±‚çš„ PVï¼Œå¦åˆ™æ–°çš„ Pod å°±ä¼šå› ä¸º PVC ç»‘å®šä¸åˆ° PV è€Œå¯¼è‡´åˆ›å»ºå¤±è´¥ã€‚è€Œä¸”é€šè¿‡ PVC è¯·æ±‚åˆ°ä¸€å®šçš„å­˜å‚¨ç©ºé—´ä¹Ÿå¾ˆæœ‰å¯èƒ½ä¸è¶³ä»¥æ»¡è¶³åº”ç”¨å¯¹äºå­˜å‚¨è®¾å¤‡çš„å„ç§éœ€æ±‚ã€‚</p><p>è€Œä¸”ä¸åŒçš„åº”ç”¨ç¨‹åºå¯¹äºå­˜å‚¨æ€§èƒ½çš„è¦æ±‚å¯èƒ½ä¹Ÿä¸å°½ç›¸åŒï¼Œæ¯”å¦‚è¯»å†™é€Ÿåº¦ã€å¹¶å‘æ€§èƒ½ç­‰ï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒKubernetes åˆä¸ºæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªæ–°çš„èµ„æºå¯¹è±¡ï¼šStorageClassï¼Œé€šè¿‡ StorageClass çš„å®šä¹‰ï¼Œç®¡ç†å‘˜å¯ä»¥å°†å­˜å‚¨èµ„æºå®šä¹‰ä¸ºæŸç§ç±»å‹çš„èµ„æºï¼Œæ¯”å¦‚å¿«é€Ÿå­˜å‚¨ã€æ…¢é€Ÿå­˜å‚¨ç­‰ï¼Œç”¨æˆ·æ ¹æ® StorageClass çš„æè¿°å°±å¯ä»¥éå¸¸ç›´è§‚çš„çŸ¥é“å„ç§å­˜å‚¨èµ„æºçš„å…·ä½“ç‰¹æ€§äº†ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®åº”ç”¨çš„ç‰¹æ€§å»ç”³è¯·åˆé€‚çš„å­˜å‚¨èµ„æºäº†ã€‚</p><h3 id=åˆ›å»º-2>åˆ›å»º</h3><p>èµ„æºæ¸…å•å¦‚ä¸‹</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>StorageClass</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>storage.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>local-storage</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>provisioner</span><span class=p>:</span><span class=w> </span><span class=l>Local		# å·æ’ä»¶ï¼ˆå¦‚ï¼šlocal NFSï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>reclaimPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Retain	# å›æ”¶ç­–ç•¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>volumeBindingMode</span><span class=p>:</span><span class=w> </span><span class=l>Immediate	# ç»‘å®šæ¨¡å¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>PersistentVolume</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>local-pv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>capacity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class=l>1Gi</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>volumeMode</span><span class=p>:</span><span class=w> </span><span class=l>Filesystem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class=l>local-storage</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>ReadWriteOnce</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>persistentVolumeReclaimPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Retain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/home/txl/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>nodeAffinity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>required</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>nodeSelectorTerms</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>matchExpressions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>pv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>operator</span><span class=p>:</span><span class=w> </span><span class=l>In</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>values</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>PersistentVolumeClaim</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ngx-pvc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>ReadWriteOnce</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class=l>local-storage</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>requests</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class=l>1Gi</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ngx-sc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ngx1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>nginx:1.18-alpine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class=l>IfNotPresent</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>volumeMounts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mydata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class=l>/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mydata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>persistentVolumeClaim</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>claimName</span><span class=p>:</span><span class=w> </span><span class=l>ngx-pvc</span><span class=w>
</span></span></span></code></pre></div><h3 id=å…³é”®é…ç½®å‚æ•°-1>å…³é”®é…ç½®å‚æ•°</h3><ul><li><strong>ç»‘å®šæ¨¡å¼</strong> <code>WaitForFirstConsumer</code>ï¼šæ§åˆ¶å·ç»‘å®šå’ŒåŠ¨æ€åˆ¶å¤‡åº”è¯¥å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™<ul><li>Immediateï¼šä¸€æ—¦åˆ›å»º PVC å°±ç»‘å®š</li><li>WaitForFirstConsumerï¼šå»¶è¿Ÿç»‘å®šï¼Œç›´åˆ°ä½¿ç”¨è¯¥ PVC çš„ Pod è¢«åˆ›å»º</li></ul></li></ul><h2 id=æŒ‚è½½åˆ°-pod>æŒ‚è½½åˆ° Pod</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ngx-pv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ngx1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>nginx:1.18-alpine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class=l>IfNotPresent</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>volumeMounts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mydata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class=l>/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>mydata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>persistentVolumeClaim</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>claimName</span><span class=p>:</span><span class=w> </span><span class=l>ngx-pvc</span><span class=w>
</span></span></span></code></pre></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-12-14&nbsp;<a class=git-hash href=https://github.com/xuliangTang/xuliangTang.github.io/commit/2856aa864f09517d7a48e82c5e7aec21a5b7427d target=_blank title="commit by xuliangTang(1297441127@qq.com) 2856aa864f09517d7a48e82c5e7aec21a5b7427d: ğŸ‰ Initial Commit">
<i class="fas fa-hashtag fa-fw" aria-hidden=true></i>2856aa8</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=http://xuliangtang.github.io/posts/pv_pvc/ data-title="PV å’Œ PVC"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=http://xuliangtang.github.io/posts/pv_pvc/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=http://xuliangtang.github.io/posts/pv_pvc/ data-title="PV å’Œ PVC"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=http://xuliangtang.github.io/posts/pv_pvc/ data-title="PV å’Œ PVC"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on å¾®åš" data-sharer=weibo data-url=http://xuliangtang.github.io/posts/pv_pvc/ data-title="PV å’Œ PVC"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/service/ class=prev rel=prev title=Service><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Service</a>
<a href=/posts/hpa/ class=next rel=next title="Pod æ°´å¹³è‡ªåŠ¨æ‰©ç¼© â€” HPA">Pod æ°´å¹³è‡ªåŠ¨æ‰©ç¼© â€” HPA<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.108.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>xuliangTang</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:100},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"4ZKRIKL2L6",algoliaIndex:"dev_lain",algoliaSearchKey:"2da9b5e339083fde5fe030c2345f5499",highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:80,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>